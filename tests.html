<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<title>Rivetsjs-stdlib tests</title>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/rivets/0.7.0/rivets.bundled.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.3/moment-with-locales.js"></script>
		<!--<script src="https://raw.githubusercontent.com/matthieuriolo/rivetsjs-stdlib/master/src/rivetjs-stdlib.js"></script>
-->
		<script>
'use strict';

(function(rivets, moment) {
	rivets.stdlib = {
		defaultPrecision: 2,
		defaultThousandSeparator: "'",
		defaultDecimalSeparator: ".",
		
		defaultDateFormat: 'YYYY-MM-DD',
		defaultTimeFormat: 'hh::mm:ss',
		defaultDatetimeFormat: 'YYYY-MM-DD hh::mm:ss',
	}
	
	/*
	 * basic formatters for rivets
	 *
	 */

	/* general */
	rivets.formatters.default = function(target, val) {
		return !rivets.formatters.isEmpty(target) ? target : val
	}

	rivets.formatters.add = function(target, val) {
		return target + val
	}

	rivets.formatters.sub = function(target, val) {
		return target - val
	}

	rivets.formatters.map = function(target, obj, prop) {
		var args = Array.prototype.slice.call(arguments)
		args.splice(1,2)
		return obj[prop].apply(obj, args)
	}



	/* check JS types */

	rivets.formatters.isBoolean = function(target) {
		return typeof target == "boolean"
	}

	rivets.formatters.isNumeric = function(target) {
		return !isNaN(target)
	}

	rivets.formatters.isNaN = function(target) {
		if(rivets.formatters.isArray(target))
			return true
		return isNaN(target)
	}


	rivets.formatters.isInteger = function(n) {
		/*
		thanks a lot to Dagg Nabbit
		http://stackoverflow.com/questions/3885817/how-to-check-if-a-number-is-float-or-integer
		*/
		return n === +n && n === (n|0)
	}

	rivets.formatters.isFloat = function(n) {
		/*
		thanks a lot to Dagg Nabbit
		http://stackoverflow.com/questions/3885817/how-to-check-if-a-number-is-float-or-integer
		*/
		return Infinity !== n && n === +n && n !== (n|0)
	}

	rivets.formatters.isNumber = function(target) {
		return rivets.formatters.isFloat(target) || rivets.formatters.isInteger(target)
	}

	rivets.formatters.isObject = function(target) {
		return rivets.formatters.toBoolean(target) && typeof target == "object" && !rivets.formatters.isArray(target)
	}

	rivets.formatters.isFunction = function(target) {
		return typeof target == "function"
	}

	rivets.formatters.isArray = function(target) {
		return rivets.formatters.isFunction(Array.isArray) ? Array.isArray(target) : target instanceof Array
	}

	rivets.formatters.isString = function(target) {
		return typeof target == "string" || target instanceof String
	}

	rivets.formatters.isInfinity = function(target) {
		return target === Infinity
	}

	/* convert JS types */

	rivets.formatters.toBoolean = function(target) {
		return !!target
	}

	rivets.formatters.toInteger = function(target) {
		var ret = parseInt(target*1, 10)
		return isNaN(ret) ? 0 : ret
	}

	rivets.formatters.toFloat = function(target) {
		var ret = parseFloat(target*1.0)
		return isNaN(ret) ? 0.0 : ret
	}

	rivets.formatters.toDecimal = function(target) {
		var retI = rivets.formatters.toInteger(target*1)
		var retF = rivets.formatters.toFloat(target)
		return retI == retF ? retI : retF
	}

	rivets.formatters.toArray = function(target) {
		if(rivets.formatters.isArray(target)) {
			return target
		}else if(rivets.formatters.isObject(target)) {
			return rivets.formatters.values(target)
		}

		return [target]
	}

	rivets.formatters.toString = function(target) {
		return target ? target.toString() : ''
	}




	/* Math functions */
	rivets.formatters.sum = function(target, val) {
		return (1*target) + (1*val);
	}

	rivets.formatters.substract = function(target, val) {
		return (1*target) - (1*val);
	}

	rivets.formatters.multiply = function(target, val) {
		return (1*target) * (1*val);
	}

	rivets.formatters.divide = function(target, val) {
		return (1*target) / (1*val);
	}

	rivets.formatters.min = function() {
		return Math.min.apply(Math, arguments)
	}

	rivets.formatters.max = function() {
		return Math.max.apply(Math, arguments)
	}

	/* comparisons */

	rivets.formatters.isEqual = function(target, val) {
		return target === val
	}

	rivets.formatters.isLess = function(target, val) {
		return (target*1) < (val*1)
	}

	rivets.formatters.isGreater = function(target, val) {
		return (target*1) > (val*1)
	}

	rivets.formatters.isLessEqual = function(target, val) {
		return (target*1) <= (val*1)
	}

	rivets.formatters.isGreaterEqual = function(target, val) {
		return (target*1) >= (val*1)
	}

	/* logical functions */

	rivets.formatters.or = function() {
		for(var i = 0; i < arguments.length; i++) {
			if(rivets.formatters.toBoolean(arguments[i])) {
				return true
			}
		}
		return false
	}

	rivets.formatters.and = function() {
		for(var i = 0; i < arguments.length; i++) {
			if(!rivets.formatters.toBoolean(arguments[i])) {
				return false
			}
		}

		return true
	}

	rivets.formatters.negate = function(target) {
		return !rivets.formatters.toBoolean(target)
	}

	rivets.formatters.if = function(target, trueCase, falseCase) {
		return rivets.formatters.toBoolean(target) ? trueCase : falseCase 
	}

	/* number functions */
	rivets.formatters.numberFormat = function(target, precision, decimalSeparator, thousandSeparator) {
		target = rivets.formatters.isNumber(target) ? target : rivets.formatters.toDecimal(target)

		if(!rivets.formatters.isInteger(precision))
			precision = rivets.stdlib.defaultPrecision
		if(!decimalSeparator)
			decimalSeparator = rivets.stdlib.defaultDecimalSeparator
		if(!thousandSeparator)
			thousandSeparator = rivets.stdlib.defaultThousandSeparator
		
		/*
		thanks to user2823670
		http://stackoverflow.com/questions/10015027/javascript-tofixed-not-rounding
		*/
		var ret = (+(Math.round(+(Math.abs(target) + 'e' + precision)) + 'e' + -precision)).toFixed(precision)
		if(target < 0)
			ret = '-' + ret

		/*
		thanks to Elias Zamaria
		http://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript
		*/
		ret = ret.split('.')
		if(ret.length==2) {
			return ret[0].replace(/\B(?=(\d{3})+(?!\d))/g, thousandSeparator) + decimalSeparator + ret[1];
		}

		return ret[0].replace(/\B(?=(\d{3})+(?!\d))/g, thousandSeparator);
	}

	/* date functions */

	rivets.formatters.date = function(target) {
		return moment(target).format(rivets.stdlib.defaultDateFormat)
	}

	rivets.formatters.time = function(target) {
		return moment(target).format(rivets.stdlib.defaultTimeFormat)
	}

	rivets.formatters.datetime = function(target) {
		return moment(target).format(rivets.stdlib.defaultDatetimeFormat)
	}

	rivets.formatters.toTimestamp = function(target) {
		return moment(target).format('X')
	}

	rivets.formatters.toDate = function(target) {
		return moment.unix(target).toDate()
	}

	rivets.formatters.toMoment = function(target) {
		return moment(target)
	}

	rivets.formatters.dateFormat = function(target, val) {
		return moment(target).format(val)
	}

	/* object functions */

	rivets.formatters.keys = function(target) {
		return Object.keys(target)
	}

	rivets.formatters.values = function(target) {
		return Object.keys(target).map(function(key) { return target[key] })
	}

	/* string functions */

	rivets.formatters.stringFormat = function(target) {
		for(var i = 1; i < arguments.length; i++) {
			var offset = target.indexOf('%s')
			if(offset === -1)
				break;

			target = target.slice(0, offset) + arguments[i] + target.slice(offset + 2)
		}

		return target
	}


	rivets.formatters.split = function(target, val) {
		return target.split(val)
	}

	rivets.formatters.lower = function(target) {
		return target.toLowerCase()
	}

	rivets.formatters.upper = function(target) {
		return target.toUpperCase()
	}

	rivets.formatters.capitalize = function(target) {
		return target.split(' ').map(function(seq) {
			return seq.split('-').map(function(word) {
				return word.charAt(0).toUpperCase() + word.slice(1)
			}).join('-')
		}).join(' ')
	}

	/* string&array functions */
	rivets.formatters.contains = function(target, val) {
		return target.indexOf(val) !== -1
	}

	rivets.formatters.isEmpty = function(target) {
		if(!rivets.formatters.toBoolean(target))
			return true
		return rivets.formatters.toArray(target).length == 0
	}

	/* array formatters */

	rivets.formatters.length = function(target) {
		if(rivets.formatters.isString(target))
			return target.length
		return rivets.formatters.toArray(target).length;
	}


	rivets.formatters.join = function(target, val) {
		return rivets.formatters.toArray(target).join(val)
	}

	/* functions formatters */

	rivets.formatters.wrap = function(target) {
		var args = Array.prototype.slice.call(arguments)
		args.splice(0,1)
		
		return function(evt) {
			var cpy = args.slice();
			Array.prototype.push.apply(cpy, Array.prototype.slice.call(arguments))
			return target.apply(this, cpy)
		}
	}

	rivets.formatters.delay = function(target, ts) {
		var self = this
		return function() {
			setTimeout(function() { target.apply(self, arguments) }, ts)
		}
	}

	rivets.formatters.preventDefault = function(target) {
		var self = this
		return function(evt) {
			e.preventDefault()
			target.call(self, evt)
			return false
		};
	};

	/*
	 * basic bindings for rivets
	 *
	 */
	
	rivets.binders.style = function(target, val) {
		el.style[val] = target
	}


	/* extra bind-type for rivets - we may need a better solution than that one */
	rivets.binders.template = {
		block: true,
		
		bind: function() {
			
			this.subviews = []
		},
		
		unbind: function(el) {
			
			this.subviews.forEach(function(el) {
				el.unbind()
			})
		},
		
		routine: function(el, value) {
			
			var self = this
			
			//kill old data
			this.subviews.forEach(function(el) {
				el.unbind()
			})
			this.subviews = []
			
			//set new value
			$(el).html(value)
			
			//make subhtml binding capable
			var options = {
	          binders: this.view.binders,
	          formatters: this.view.formatters,
	          adapters: this.view.adapters,
	          config: this.view.config
	        }
	        
	        var models = {}
	        for(key in self.view.models) {
	        	models[key] = self.view.models[key]
	        }
			
			$(el).children().each(function() {
				var v = new rivets._.View(this, models)///rivets.bind(this, models)
	    	    v.bind()
	    	    self.subviews.push(v)
	    	})
		},
		
		update: function(models) {
			
			this.subviews.forEach(function(el) {
				el.update(models)
			})
		},
	}


	/* formatter shortcuts */
	rivets.formatters.eq = rivets.formatters.isEqual
	rivets.formatters.ne = function(target, val) {
		return rivets.formatters.negate(rivets.formatters.isEqual(target, val))
	}
	rivets.formatters.lt = rivets.formatters.isLower
	rivets.formatters.gt = rivets.formatters.isGreater
	rivets.formatters.le = rivets.formatters.isLowerEqual
	rivets.formatters.ge = rivets.formatters.isGreaterEqual
	rivets.formatters.prv = rivets.formatters.preventDefault
	rivets.formatters.inject = rivets.formatters.stringFormat
	rivets.formatters.format = rivets.formatters.dateFormat
	rivets.formatters.len = rivets.formatters.length
})(rivets, moment)


			var defaultDate = new Date()

			var deepEqual = function(a, b) {
				if(typeof a == typeof b && typeof a == "object") {
					if(Array.isArray(a) && Array.isArray(b)) {
						if(a.length != b.length)
							return false

						for(var i = 0; i < a.length; i++) {
							if(!deepEqual(a[i], b[i])) {
								return false
							}
						}

						return true
					}else if(!Array.isArray(a) && !Array.isArray(b)) {
						for(var k in a) {
							if(k in b) {
								if(!deepEqual(a[k], b[k])) {
									return false
								}
							}else {
								return false
							}
						}

						return true
					}

					return false
				}

				return (isNaN(a) && isNaN(b)) || a === b
			}

			var testCases = [
				{
					name: 'Formatters default',
					func: rivets.formatters.default,
					tests: [
						{
							input: [false, 'Hi'],
							expected:  'Hi'
						},{
							input: [true, 'Hi'],
							expected:  true
						}
					]
				},

				{
					name: 'Formatters add',
					func: rivets.formatters.add,
					tests: [
						{
							input: [1, 2],
							expected:  3
						},{
							input: [1, -2],
							expected:  -1
						},{
							input: ['Hi', 'there'],
							expected:  'Hithere'
						}
					]
				},

				{
					name: 'Formatters sub',
					func: rivets.formatters.sub,
					tests: [
						{
							input: [1, 2],
							expected:  -1
						},{
							input: [1, -2],
							expected:  3
						},{
							input: [new Date(86400000 * 2), new Date(86400000)],
							expected:  (new Date(86400000 * 2) - new Date(86400000))
						}
					]
				},


				{
					name: 'Formatters map',
					func: rivets.formatters.map,
					tests: [
						{
							input: [90, Math, 'sin'],
							expected:  Math.sin(90)
						}
					]
				},




				{
					name: 'Formatters isBoolean',
					func: rivets.formatters.isBoolean,
					tests: [
						{
							input: [true],
							expected:  true
						},{
							input: [1],
							expected:  false
						},{
							input: ['a'],
							expected:  false
						},{
							input: [{}],
							expected:  false
						},{
							input: [NaN],
							expected:  false
						},{
							input: [undefined],
							expected:  false
						},{
							input: [Infinity],
							expected:  false
						},
					]
				},

				{
					name: 'Formatters isNumeric',
					func: rivets.formatters.isNumeric,
					tests: [
						{
							input: [1],
							expected:  true
						},{
							input: [1.1],
							expected: true
						},{
							input: ['12'],
							expected: true
						},{
							input: [{}],
							expected:  false
						},{
							input: [[]],
							expected:  true
						},{
							input: [true],
							expected:  true
						},{
							input: [NaN],
							expected:  false
						},{
							input: [undefined],
							expected:  false
						},{
							input: [Infinity],
							expected:  true
						},
					]
				},

				{
					name: 'Formatters isNaN',
					func: rivets.formatters.isNaN,
					tests: [
						{
							input: [1],
							expected:  false
						},{
							input: [1.1],
							expected: false
						},{
							input: ['12'],
							expected: false
						},{
							input: [{}],
							expected:  true
						},{
							input: [[]],
							expected:  true
						},{
							input: [true],
							expected:  false
						},{
							input: [NaN],
							expected:  true
						},{
							input: [undefined],
							expected:  true
						},{
							input: [Infinity],
							expected:  false
						},
					]
				},

				{
					name: 'Formatters isInteger',
					func: rivets.formatters.isInteger,
					tests: [
						{
							input: [1],
							expected: true
						},{
							input: [1.1],
							expected: false
						},{
							input: ['12'],
							expected: false
						},{
							input: [{}],
							expected:  false
						},{
							input: [[]],
							expected:  false
						},{
							input: [true],
							expected:  false
						},{
							input: [NaN],
							expected:  false
						},{
							input: [undefined],
							expected:  false
						},{
							input: [Infinity],
							expected:  false
						},
					]
				},

				{
					name: 'Formatters isFloat',
					func: rivets.formatters.isFloat,
					tests: [
						{
							input: [1],
							expected: false
						},{
							input: [1.1],
							expected: true
						},{
							input: ['12'],
							expected: false
						},{
							input: [{}],
							expected:  false
						},{
							input: [[]],
							expected:  false
						},{
							input: [true],
							expected:  false
						},{
							input: [NaN],
							expected:  false
						},{
							input: [undefined],
							expected:  false
						},{
							input: [Infinity],
							expected:  false
						},
					]
				},

				{
					name: 'Formatters isNumber',
					func: rivets.formatters.isNumber,
					tests: [
						{
							input: [1],
							expected: true
						},{
							input: [1.1],
							expected: true
						},{
							input: ['12'],
							expected: false
						},{
							input: [{}],
							expected:  false
						},{
							input: [[]],
							expected:  false
						},{
							input: [true],
							expected:  false
						},{
							input: [NaN],
							expected:  false
						},{
							input: [undefined],
							expected:  false
						},{
							input: [Infinity],
							expected:  false
						},
					]
				},

				{
					name: 'Formatters isObject',
					func: rivets.formatters.isObject,
					tests: [
						{
							input: [1.1],
							expected: false
						},{
							input: ['12'],
							expected: false
						},{
							input: [{}],
							expected:  true
						},{
							input: [[]],
							expected:  false
						},{
							input: [true],
							expected:  false
						},{
							input: [NaN],
							expected:  false
						},{
							input: [undefined],
							expected:  false
						},{
							input: [Infinity],
							expected:  false
						},
					]
				},

				{
					name: 'Formatters isFunction',
					func: rivets.formatters.isFunction,
					tests: [
						{
							input: [1.1],
							expected: false
						},{
							input: ['12'],
							expected: false
						},{
							input: [{}],
							expected:  false
						},{
							input: [[]],
							expected:  false
						},{
							input: [true],
							expected:  false
						},{
							input: [function(){}],
							expected:  true
						},{
							input: [NaN],
							expected:  false
						},{
							input: [undefined],
							expected:  false
						},{
							input: [Infinity],
							expected:  false
						},
					]
				},

				{
					name: 'Formatters isArray',
					func: rivets.formatters.isArray,
					tests: [
						{
							input: [1.1],
							expected: false
						},{
							input: ['12'],
							expected: false
						},{
							input: [{}],
							expected:  false
						},{
							input: [[]],
							expected:  true
						},{
							input: [true],
							expected:  false
						},{
							input: [NaN],
							expected:  false
						},{
							input: [undefined],
							expected:  false
						},{
							input: [Infinity],
							expected:  false
						},
					]
				},

				{
					name: 'Formatters isString',
					func: rivets.formatters.isString,
					tests: [
						{
							input: [1.1],
							expected: false
						},{
							input: ['12'],
							expected: true
						},{
							input: [{}],
							expected:  false
						},{
							input: [[]],
							expected:  false
						},{
							input: [true],
							expected:  false
						},{
							input: [NaN],
							expected:  false
						},{
							input: [undefined],
							expected:  false
						},{
							input: [Infinity],
							expected:  false
						},
					]
				},

				{
					name: 'Formatters isInfinity',
					func: rivets.formatters.isInfinity,
					tests: [
						{
							input: [1.1],
							expected: false
						},{
							input: ['12'],
							expected: false
						},{
							input: [{}],
							expected:  false
						},{
							input: [[]],
							expected:  false
						},{
							input: [true],
							expected:  false
						},{
							input: [Infinity],
							expected:  true
						},{
							input: [NaN],
							expected:  false
						},{
							input: [undefined],
							expected:  false
						}
					]
				},

				{
					name: 'Formatters toBoolean',
					func: rivets.formatters.toBoolean,
					tests: [
						{
							input: [1.1],
							expected: true
						},{
							input: ['12'],
							expected: true
						},{
							input: [{}],
							expected:  true
						},{
							input: [[]],
							expected:  true
						},{
							input: [true],
							expected:  true
						}
					]
				},

				{
					name: 'Formatters toInteger',
					func: rivets.formatters.toInteger,
					tests: [
						{
							input: [1.1],
							expected: 1
						},{
							input: ['12'],
							expected: 12
						},{
							input: ['12.6'],
							expected: 12
						},{
							input: [{}],
							expected:  0
						},{
							input: [[]],
							expected:  0
						},{
							input: [true],
							expected:  1
						}
					]
				},

				{
					name: 'Formatters toFloat',
					func: rivets.formatters.toFloat,
					tests: [
						{
							input: [1.1],
							expected: 1.1
						},{
							input: ['12'],
							expected: 12.0
						},{
							input: ['12.6'],
							expected: 12.6
						},{
							input: [{}],
							expected:  0.0
						},{
							input: [[]],
							expected:  0.0
						},{
							input: [true],
							expected:  1.0
						}
					]
				},

				{
					name: 'Formatters toDecimal',
					func: rivets.formatters.toDecimal,
					tests: [
						{
							input: [1],
							expected: 1
						},{
							input: [1.1],
							expected: 1.1
						},{
							input: ['12'],
							expected: 12
						},{
							input: ['12.6'],
							expected: 12.6
						},{
							input: [{}],
							expected:  0
						},{
							input: [[]],
							expected:  0
						},{
							input: [true],
							expected:  1
						}
					]
				},

				{
					name: 'Formatters toArray',
					func: rivets.formatters.toArray,
					tests: [
						{
							input: [1],
							expected: [1]
						},{
							input: ['12'],
							expected: ['12']
						},{
							input: [{val: 'check'}],
							expected: ['check']
						},{
							input: [[1,2]],
							expected:  [1,2]
						},{
							input: [true],
							expected:  [true]
						}
					]
				},

				{
					name: 'Formatters toString',
					func: rivets.formatters.toString,
					tests: [
						{
							input: [1],
							expected: '1'
						},{
							input: ['12'],
							expected: '12'
						},{
							input: [{val: 'check'}],
							expected: "[object Object]"
						},{
							input: [[1,2]],
							expected:  "1,2"
						},{
							input: [true],
							expected: "true"
						},{
							input: [function named(a,b) { return a + b }],
							expected: "function named(a, b) { return a + b; }"
						}
					]
				},

				{
					name: 'Formatters sum',
					func: rivets.formatters.sum,
					tests: [
						{
							input: [1, 2],
							expected: 3
						},{
							input: [1, -2],
							expected: -1
						},{
							input: ['12', 2],
							expected: 14
						},{
							input: ['12.6', 3.1],
							expected: 15.7
						},{
							input: [{val: 'check'}, 1],
							expected: NaN
						},{
							input: [[1,2], 1],
							expected: NaN
						},{
							input: [true, 1],
							expected: 2
						},{
							input: [new Date(86400000 * 2), new Date(86400000)],
							expected:  86400000*3
						}
					]
				},

				{
					name: 'Formatters substract',
					func: rivets.formatters.substract,
					tests: [
						{
							input: [1, 2],
							expected: -1
						},{
							input: [1, -2],
							expected: 3
						},{
							input: ['12', 2],
							expected: 10
						},{
							input: ['12.6', 3.1],
							expected: 9.5
						},{
							input: [{val: 'check'}, 1],
							expected: NaN
						},{
							input: [[1,2], 1],
							expected: NaN
						},{
							input: [true, 1],
							expected: 0
						},{
							input: [new Date(86400000 * 2), new Date(86400000)],
							expected: 86400000
						}
					]
				},

				{
					name: 'Formatters multiply',
					func: rivets.formatters.multiply,
					tests: [
						{
							input: [1, 2],
							expected: 2
						},{
							input: [1, -2],
							expected: -2
						},{
							input: ['12', 2],
							expected: 24
						},{
							input: ['12.6', 3.1],
							expected: 39.06
						},{
							input: [{val: 'check'}, 1],
							expected: NaN
						},{
							input: [[1,2], 1],
							expected: NaN
						},{
							input: [true, 1],
							expected: 1
						}
					]
				},

				{
					name: 'Formatters divide',
					func: rivets.formatters.divide,
					tests: [
						{
							input: [1, 2],
							expected: 0.5
						},{
							input: [1, -2],
							expected: -0.5
						},{
							input: ['12', 2],
							expected: 6
						},{
							input: ['12.6', 3.1],
							expected: 12.6 / 3.1
						},{
							input: [{val: 'check'}, 1],
							expected: NaN
						},{
							input: [[1,2], 1],
							expected: NaN
						},{
							input: [true, 1],
							expected: 1
						},{
							input: [100, 0],
							expected: Infinity
						}
					]
				},

				{
					name: 'Formatters min',
					func: rivets.formatters.min,
					tests: [
						{
							input: [1, 2, 3],
							expected: 1
						},{
							input: [1, -2],
							expected: -2
						},{
							input: ['12', 2],
							expected: 2
						},{
							input: ['12.6', 3.1],
							expected: 3.1
						},{
							input: [{val: 'check'}, -1],
							expected: NaN
						},{
							input: [[1,2], -1],
							expected: NaN
						},{
							input: [true, 10],
							expected: 1
						}
					]
				},

				{
					name: 'Formatters max',
					func: rivets.formatters.max,
					tests: [
						{
							input: [1, 2, 3],
							expected: 3
						},{
							input: [1, -2],
							expected: 1
						},{
							input: ['12', 2],
							expected: 12
						},{
							input: ['12.6', 3.1],
							expected: 12.6
						},{
							input: [{val: 'check'}, -1],
							expected: NaN
						},{
							input: [[1,2], -1],
							expected: NaN
						},{
							input: [true, 10],
							expected: 10
						}
					]
				},

				{
					name: 'Formatters isEqual',
					func: rivets.formatters.isEqual,
					tests: [
						{
							input: [1, 1],
							expected: true
						},{
							input: ['Hi', 'Hi'],
							expected: true
						},{
							input: ['12', 12],
							expected: false
						},{
							input: [true, 3.1],
							expected: false
						},{
							input: [defaultDate, defaultDate],
							expected: true
						}
					]
				},
				

				{
					name: 'Formatters isLess',
					func: rivets.formatters.isLess,
					tests: [
						{
							input: [1, 2],
							expected: true
						},{
							input: ['1', 2],
							expected: true
						},{
							input: ['1.2', -12],
							expected: false
						},{
							input: [false, 3.1],
							expected: true
						},{
							input: [true, 0],
							expected: false
						},{
							input: [10, 10],
							expected: false
						}
					]
				},

				{
					name: 'Formatters isGreater',
					func: rivets.formatters.isGreater,
					tests: [
						{
							input: [1, 2],
							expected: false
						},{
							input: ['1', 2],
							expected: false
						},{
							input: ['1.2', -12],
							expected: true
						},{
							input: [false, 3.1],
							expected: false
						},{
							input: [true, 0],
							expected: true
						},{
							input: [10, 10],
							expected: false
						}
					]
				},

				{
					name: 'Formatters isGreaterEqual',
					func: rivets.formatters.isGreaterEqual,
					tests: [
						{
							input: [1, 2],
							expected: false
						},{
							input: ['1', 2],
							expected: false
						},{
							input: ['1.2', -12],
							expected: true
						},{
							input: [false, 3.1],
							expected: false
						},{
							input: [true, 0],
							expected: true
						},{
							input: [10, 10],
							expected: true
						}
					]
				},

				{
					name: 'Formatters isLessEqual',
					func: rivets.formatters.isLessEqual,
					tests: [
						{
							input: [1, 2],
							expected: true
						},{
							input: ['1', 2],
							expected: true
						},{
							input: ['1.2', -12],
							expected: false
						},{
							input: [false, 3.1],
							expected: true
						},{
							input: [true, 0],
							expected: false
						},{
							input: [10, 10],
							expected: true
						}
					]
				},

				{
					name: 'Formatters or',
					func: rivets.formatters.or,
					tests: [
						{
							input: [false, false, true],
							expected: true
						},{
							input: ['1', false],
							expected: true
						},{
							input: [false, {}],
							expected: true
						},{
							input: [false, []],
							expected: true
						},{
							input: [false, ''],
							expected: false
						},{
							input: [false, 0],
							expected: false
						}
					]
				},

				{
					name: 'Formatters and',
					func: rivets.formatters.and,
					tests: [
						{
							input: [false, false, true],
							expected: false
						},{
							input: ['1', false],
							expected: false
						},{
							input: ['1', true],
							expected: true
						},{
							input: [true, {}],
							expected: true
						},{
							input: [true, []],
							expected: true
						},{
							input: [true, ''],
							expected: false
						},{
							input: [true, 0],
							expected: false
						}
					]
				},


				{
					name: 'Formatters negate',
					func: rivets.formatters.negate,
					tests: [
						{
							input: [false],
							expected: true
						},{
							input: [1],
							expected: false
						},{
							input: ['1'],
							expected: false
						},{
							input: [{}],
							expected: false
						},{
							input: [[]],
							expected: false
						},{
							input: [''],
							expected: true
						},{
							input: [0],
							expected: true
						}
					]
				},

				{
					name: 'Formatters if',
					func: rivets.formatters.if,
					tests: [
						{
							input: [false, 'a', 'b'],
							expected: 'b'
						},{
							input: [true, 'a', 'b'],
							expected: 'a'
						},{
							input: ['1', 'a', 'b'],
							expected: 'a'
						},{
							input: ['', 'a', 'b'],
							expected: 'b'
						},{
							input: [{}, 'a', 'b'],
							expected: 'a'
						},{
							input: [[], 'a', 'b'],
							expected: 'a'
						}
					]
				},

				{
					name: 'Formatters numberFormat',
					func: rivets.formatters.numberFormat,
					tests: [
						{
							input: [0],
							expected: '0.00'
						},{
							input: [true],
							expected: '1.00'
						},{
							input: [1.555],
							expected: '1.56'
						},{
							input: [-1.555],
							expected: '-1.56'
						},{
							input: [1234567.89],
							expected: "1'234'567.89"
						},{
							input: [1234567.89, 4, "-", '_'],
							expected: "1_234_567-8900"
						},{
							input: [1234567.89, 0, "-", '_'],
							expected: "1_234_568"
						}
					]
				},

				{
					name: 'Formatters stringFormat',
					func: rivets.formatters.stringFormat,
					tests: [
						{
							input: ['Hi %s', 'there'],
							expected: 'Hi there'
						},{
							input: ['Hi %s %s', 'there'],
							expected: 'Hi there %s'
						},{
							input: ['Hi %s', 'there', 'oh'],
							expected: 'Hi there'
						}
					]
				},

				{
					name: 'Formatters split',
					func: rivets.formatters.split,
					tests: [
						{
							input: ['Hi there', ' '],
							expected: ['Hi', 'there']
						}
					]
				},

				{
					name: 'Formatters lower',
					func: rivets.formatters.lower,
					tests: [
						{
							input: ['Hi there'],
							expected: 'hi there'
						}
					]
				},

				{
					name: 'Formatters upper',
					func: rivets.formatters.upper,
					tests: [
						{
							input: ['Hi there'],
							expected: 'HI THERE'
						}
					]
				},

				{
					name: 'Formatters capitalize',
					func: rivets.formatters.capitalize,
					tests: [
						{
							input: ['Hi there'],
							expected: 'Hi There'
						},{
							input: ['What happens to akronyms like URL?'],
							expected: 'What Happens To Akronyms Like URL?'
						},{
							input: ['this symbol-thingy'],
							expected: 'This Symbol-Thingy'
						}
					]
				},

				{
					name: 'Formatters contains',
					func: rivets.formatters.contains,
					tests: [
						{
							input: ['Hi there', 'there'],
							expected: true
						},{
							input: ['Hi there', ''],
							expected: true
						},{
							input: ['Hi there', 'nope'],
							expected: false
						},{
							input: [[1,2], 1],
							expected: true
						}
					]
				},

				{
					name: 'Formatters isEmpty',
					func: rivets.formatters.isEmpty,
					tests: [
						{
							input: ['Hi there'],
							expected: false
						},{
							input: [''],
							expected: true
						},{
							input: [1],
							expected: false
						},{
							input: [0],
							expected: true
						},{
							input: [[1,2]],
							expected: false
						},{
							input: [[]],
							expected: true
						},{
							input: [{}],
							expected: true
						},{
							input: [{a: 'a'}],
							expected: false
						}
					]
				},

				{
					name: 'Formatters length',
					func: rivets.formatters.length,
					tests: [
						{
							input: ['Hi there'],
							expected: 8
						},{
							input: [''],
							expected: 0
						},{
							input: [[]],
							expected: 0
						},{
							input: [{}],
							expected: 0
						},{
							input: [[1, 2, 3]],
							expected: 3
						},{
							input: [{a: 'b', c: 'd'}],
							expected: 2
						}
					]
				},

				{
					name: 'Formatters join',
					func: rivets.formatters.join,
					tests: [
						{
							input: [[1,2], ','],
							expected: '1,2'
						},{
							input: [{a : 'b', c : 'd',}, ','],
							expected: 'b,d'
						}
					]
				},
			]

			$(document).ready(function() {
				var tabl = $('#tests')

				testCases.forEach(function(testCase) {
					tabl.append($('<tr><td colspan="4" bgcolor="#0000FF" style="color: #FFFFFF" align=center>' + testCase.name + '</td></tr>'))
					tabl.append($('<tr><td>Input</td><td>Result</td><td>Expected</td><td>Win/Fail</td></tr>'))

					testCase.tests.forEach(function(test) {
						var ret = testCase.func.apply(testCase.fun, test.input)

						tabl.append($('<tr><td>' + test.input.toString() +
							'</td><td>' + (ret !== null && ret !== undefined ? ret.toString() : 'null') +
							'</td><td>' + test.expected.toString() +
							'</td><td bgcolor="' + ( deepEqual(ret, test.expected) ? '#7CFC00' : '#FF000') + '"></td></tr>'))
					})
				})
				
			})
		</script>
	</head>

	<body>
		<table id="tests" width="100%">
			
		</table>
	</body>
</html>